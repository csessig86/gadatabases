<% excluded_columns = ['id', 'created_at', 'updated_at'] %>

<% @record.columns.map(&:name).each do |column_name| %>
	<% if !excluded_columns.include? column_name %>

		<!-- Renaming columns -->
		<% if column_name == 'jobtitle' %>
			<% output = column_name + ' | Title' %>
		<% elsif column_name == 'fy16wages' %>
			<% output = column_name + ' | 2016 wages' %>
		<% elsif column_name == 'fy17annualrate' %>
			<% output = column_name + ' | 2017 annual rate' %>
		<% else %>
			<% output = column_name + ' | ' + column_name %>
		<% end %>

		<% if type == 'th' %>
			<% if column_name == 'fy16wages' || column_name == 'fy17annualrate' %>
				<th style="width:5%"><%= sortable output %></th>
			<% elsif column_name == 'jobtitle' || column_name == 'name' %>
				<th style="width:25%"><%= sortable output %></th>
			<% else %>
				<th><%= sortable output %></th>
			<% end %>

		<% elsif type == 'td' %>
		
			<!-- Example of how to do numbers -->
			<% if column_name == 'fy16wages' || column_name == 'fy17annualrate' %>
				<td class="number" data-title="<%= output.split(" | ")[1] %>">
					<% if !record[column_name].nil? %>
						$<%= number_with_delimiter(record[column_name], :delimiter => ',') %>
					<% else %>
					<% end %>
				</td>
			<% else %>
				<td data-title="<%= output.split(" | ")[1] %>">
					<%= record[column_name] %>
				</td>
			<% end %>

		<% end %>
	<%end %>
<% end %>